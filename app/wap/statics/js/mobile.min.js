/**
 * Shopex OMS
 * 
 * Copyright (c) 2025 Shopex (http://www.shopex.cn)
 * Licensed under Apache-2.0 with additional terms (See LICENSE file)
 */

!function(a,b,c,d){"use strict";function e(a){return("string"==typeof a||a instanceof String)&&(a=a.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g,"")),a}function f(a){this.selector=a,this.query=""}var g=function(b){var c=a("head");c.prepend(a.map(b,function(a){if(0===c.has("."+a).length)return'<meta class="'+a+'" />'}))};g(["mobile-mq-small","mobile-mq-small-only","mobile-mq-medium","mobile-mq-medium-only","mobile-data-attribute-namespace"]),a(function(){"undefined"!=typeof FastClick&&"undefined"!=typeof c.body&&FastClick.attach(c.body)});var h=function(a){var b=[];return a||b.push("data"),this.namespace.length>0&&b.push(this.namespace),b.push(this.name),b.join("-")},i=function(a){for(var b=a.split("-"),c=b.length,d=[];c--;)0!==c?d.push(b[c]):this.namespace.length>0?d.push(this.namespace,b[c]):d.push(b[c]);return d.reverse().join("-")},j=function(b,c){var d=this,e=(a.isArray(c)?c[0]:c)||b,f=function(){var b=a(this),c=!a(d).data(d.attr_name(!0)+"-init");b.data(d.attr_name(!0)+"-init",a.extend(!0,{},d.settings,e,d.data_options(b))),c&&d.events(this)};if(a(this.scope).is("["+this.attr_name()+"]")?f.call(this.scope):a("["+this.attr_name()+"]",this.scope).each(f),"string"==typeof b)return a.isArray(c)?this[b].apply(this,c):this[b].call(this,c)},k=function(a,b){function c(){b(a[0])}function d(){this.one("load",c)}return a.attr("src")?void(a[0].complete||4===a[0].readyState?c():d.call(a)):void c()};!function(a){function c(){d&&(g(c),i&&a.fx.tick())}for(var d,e=0,f=["webkit"],g=b.requestAnimationFrame,h=b.cancelAnimationFrame,i="undefined"!=typeof a.fx;e<f.length&&!g;e++)g=b[f[e]+"RequestAnimationFrame"],h=h||b[f[e]+"CancelAnimationFrame"]||b[f[e]+"CancelRequestAnimationFrame"];g?(b.requestAnimationFrame=g,b.cancelAnimationFrame=h,i&&(a.fx.timer=function(b){b()&&a.timers.push(b)&&!d&&(d=!0,c())},a.fx.stop=function(){d=!1})):(b.requestAnimationFrame=function(a){var c=(new Date).getTime(),d=Math.max(0,16-(c-e)),f=b.setTimeout(function(){a(c+d)},d);return e=c+d,f},b.cancelAnimationFrame=function(a){clearTimeout(a)})}(a),f.prototype.toString=function(){return this.query=this.query||a(this.selector).css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")},b.Mobile={name:"Mobile",media_queries:{small:new f(".mobile-mq-small"),"small-only":new f(".mobile-mq-small-only"),medium:new f(".mobile-mq-medium"),"medium-only":new f(".mobile-mq-medium-only")},stylesheet:a("<style></style>").appendTo("head")[0].sheet,global:{namespace:d},init:function(a,b,c,d,e){var f=[a,c,d,e],g=[];if(this.scope=a||this.scope,this.set_namespace(),b&&"string"==typeof b&&!/reflow/i.test(b))this.libs.hasOwnProperty(b)&&g.push(this.init_lib(b,f));else for(var h in this.libs)g.push(this.init_lib(h,b));return a},init_lib:function(b,c){return this.libs.hasOwnProperty(b)?(this.patch(this.libs[b]),c&&c.hasOwnProperty(b)?("undefined"!=typeof this.libs[b].settings?a.extend(!0,this.libs[b].settings,c[b]):"undefined"!=typeof this.libs[b].defaults&&a.extend(!0,this.libs[b].defaults,c[b]),this.libs[b].init.apply(this.libs[b],[this.scope,c[b]])):(c=c instanceof Array?c:new Array(c),this.libs[b].init.apply(this.libs[b],c))):function(){}},patch:function(a){a.scope=this.scope,a.namespace=this.global.namespace,a.data_options=this.utils.data_options,a.attr_name=h,a.add_namespace=i,a.bindings=j},inherit:function(a,b){for(var c=b.split(" "),d=c.length;d--;)this.utils.hasOwnProperty(c[d])&&(a[c[d]]=this.utils[c[d]])},set_namespace:function(){var b=this.global.namespace===d?a(".mobile-data-attribute-namespace").css("font-family"):this.global.namespace;this.global.namespace=b===d||/false/i.test(b)?"":b},libs:{},utils:{data_options:function(b,c){function d(a){return!isNaN(a-0)&&null!==a&&""!==a&&a!==!1&&a!==!0}function e(b){return"string"==typeof b?a.trim(b):b}c=c||"options";var f,g,h,i={},j=function(a){var b=Mobile.global.namespace;return b.length>0?a.data(b+"-"+c):a.data(c)},k=j(b);if("object"==typeof k)return k;for(h=(k||":").split(";"),f=h.length;f--;)g=h[f].split(":"),g=[g[0],g.slice(1).join(":")],/true/i.test(g[1])&&(g[1]=!0),/false/i.test(g[1])&&(g[1]=!1),d(g[1])&&(g[1].indexOf(".")===-1?g[1]=parseInt(g[1],10):g[1]=parseFloat(g[1])),2===g.length&&g[0].length>0&&(i[e(g[0])]=e(g[1]));return i},register_media:function(b,c){Mobile.media_queries[b]===d&&(a("head").append('<meta class="'+c+'"/>'),Mobile.media_queries[b]=e(a("."+c).css("font-family")))},add_custom_rule:function(a,b){if(b===d&&Mobile.stylesheet)Mobile.stylesheet.insertRule(a,Mobile.stylesheet.cssRules.length);else{var c=Mobile.media_queries[b];c!==d&&Mobile.stylesheet.insertRule("@media "+Mobile.media_queries[b]+"{ "+a+" }",Mobile.stylesheet.cssRules.length)}},image_loaded:function(b,c){function e(a){for(var b=a.length,c=b-1;c>=0;c--)if(a.attr("height")===d)return!1;return!0}var f=b.length;(0===f||e(b))&&c(b),b.each(function(){k(a(this),function(){f-=1,0===f&&c(b)})})},random_str:function(){return this.fidx||(this.fidx=0),this.prefix=this.prefix||[this.name||"M",(+new Date).toString(36)].join("-"),this.prefix+(this.fidx++).toString(36)},match:function(a){return b.matchMedia(a).matches},is_small_up:function(){return this.match(Mobile.media_queries.small)},is_medium_up:function(){return this.match(Mobile.media_queries.medium)},is_small_only:function(){return!this.is_medium_up()},is_medium_only:function(){return this.is_medium_up()}}},a.fn.mobile=function(){var a=Array.prototype.slice.call(arguments,0);return this.each(function(){return Mobile.init.apply(Mobile,[this].concat(a)),this})}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Mobile.libs.alert={name:"alert",settings:{callback:function(){}},init:function(a,b,c){this.bindings(b,c)},events:function(){var b=this;a(this.scope).off(".alert").on("click.alert","["+this.attr_name()+"] .close",function(c){var d=a(this).closest("["+b.attr_name()+"]"),e=d.data(b.attr_name(!0)+"-init")||b.settings;c.preventDefault(),d.addClass("alert-close"),d.on("transitionend webkitTransitionEnd",function(b){a(this).trigger("close.alert").remove(),e.callback()})})},reflow:function(){}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";function e(a){var b=/fade/i.test(a);return{animate:b,fade:b}}var f=[];Mobile.libs.modal={name:"modal",locked:!1,settings:{animation:"fade",animation_speed:250,close_on_backdrop_click:!0,close_on_esc:!0,close_modal_class:"close-modal",multiple_opened:!1,backdrop:!0,backdrop_class:"backdrop",root_element:"body",no_scroll:!0,preventTargetDefault:!0,open:a.noop,opened:a.noop,close:a.noop,closed:a.noop,on_ajax_error:a.noop,css:{open:{opacity:0,visibility:"visible"},close:{opacity:1,visibility:"hidden"}}},init:function(b,c,d){a.extend(!0,this.settings,c,d),this.bindings(c,d)},events:function(b){var d=this;return a(this.scope).off(".modal").on("click.modal","["+this.add_namespace("data-modal-id")+"]:not(:disabled):not(.disabled)",function(b){if(d.settings.preventTargetDefault&&b.preventDefault(),!d.locked){var c=a(this),e=c.data("modal-ajax"),f=c.data("modal-replace-content");if(d.locked=!0,"undefined"==typeof e)d.open.call(d,c);else{var g=e===!0?c.attr("href"):e;d.open.call(d,c,{url:g},{replaceContentSel:f})}}}),a(c).on("click.modal",this.close_targets(),function(b){if(d.settings.preventTargetDefault&&b.preventDefault(),!d.locked){var c=a("["+d.attr_name()+"].open").data(d.attr_name(!0)+"-init")||d.settings,e=c.backdrop&&a(b.target)[0]===a("."+c.backdrop_class)[0];if(e){if(!c.close_on_backdrop_click)return;b.stopPropagation()}d.locked=!0,d.close.call(d,e?a("["+d.attr_name()+"].open:not(.toback)"):a(this).closest("["+d.attr_name()+"]"))}}),a("["+this.attr_name()+"]",this.scope).length>0?a(this.scope).on("open.modal",this.settings.open).on("opened.modal",this.settings.opened).on("opened.modal",this.open_video).on("close.modal",this.settings.close).on("closed.modal",this.settings.closed).on("closed.modal",this.close_video):a(this.scope).on("open.modal","["+this.attr_name()+"]",this.settings.open).on("opened.modal","["+this.attr_name()+"]",this.settings.opened).on("opened.modal","["+this.attr_name()+"]",this.open_video).on("close.modal","["+this.attr_name()+"]",this.settings.close).on("closed.modal","["+this.attr_name()+"]",this.settings.closed).on("closed.modal","["+this.attr_name()+"]",this.close_video),!0},open:function(c,e){var g,h=this;c?"undefined"!=typeof c.selector?g=a("#"+c.data("modal-id")).first():(g=a(this.scope),e=c):g=a(this.scope);var i=g.data(this.attr_name(!0)+"-init");if(i=i||this.settings,g.hasClass("open")&&c!==d&&c.attr("data-modal-id")==g.attr("id"))return this.close(g);if(!g.hasClass("open")){var j=a("["+this.attr_name()+"].open");if(g.attr("tabindex","0").attr("aria-hidden","false"),i.no_scroll){var k=a("html");k.one("open.modal",function(){a(this).addClass("modal-open")}).on("touchmove",function(a){a.preventDefault()})}g.on("open.modal",function(a){"modal"!==a.namespace}),g.on("open.modal").trigger("open.modal"),j.length<1&&this.toggle_backdrop(g,!0),"string"==typeof e&&(e={url:e});var l=function(){j.length>0&&(i.multiple_opened?h.to_back(j):h.hide(j,i.css.close)),i.multiple_opened&&f.push(g),h.show(g,i.css.open)};if("undefined"!=typeof e&&e.url){var m="undefined"!=typeof e.success?e.success:null;a.extend(e,{success:function(b,c,d){if(a.isFunction(m)){var e=m(b,c,d);"string"==typeof e&&(b=e)}"undefined"!=typeof options&&"undefined"!=typeof options.replaceContentSel?g.find(options.replaceContentSel).html(b):g.html(b),a(g).mobile("section","reflow"),a(g).children().mobile(),l()}}),i.on_ajax_error!==a.noop&&a.extend(e,{error:i.on_ajax_error}),a.ajax(e)}else l()}a(b).trigger("resize")},close:function(b){var b=b&&b.length?b:a(this.scope),c=a("["+this.attr_name()+"].open"),d=b.data(this.attr_name(!0)+"-init")||this.settings,e=this;if(c.length>0){if(b.removeAttr("tabindex","0").attr("aria-hidden","true"),d.no_scroll){var g=a("html");g.one("close.modal",function(){a(this).removeClass("modal-open")}).off("touchmove")}if(this.locked=!0,b.trigger("close.modal"),(d.multiple_opened&&1===c.length||!d.multiple_opened||b.length>1)&&(this.toggle_backdrop(b,!1),this.to_front(b)),d.multiple_opened){var h=b.is(":not(.toback)");this.hide(b,d.css.close,d),h?f.pop():f=a.grep(f,function(a){var c=a[0]===b[0];return c&&e.to_front(b),!c}),f.length>0&&this.to_front(f[f.length-1])}else this.hide(c,d.css.close,d)}},close_targets:function(){var a="."+this.settings.close_modal_class;return this.settings.backdrop&&this.settings.close_on_backdrop_click?a+", ."+this.settings.backdrop_class:a},toggle_backdrop:function(b,c){if(this.settings.backdrop){0===a("."+this.settings.backdrop_class).length&&(this.settings.backdrop=a("<div />",{class:this.settings.backdrop_class}).appendTo("body").hide());var e=this.settings.backdrop.filter(":visible").length>0;c!=e&&((c==d?e:!c)?this.hide(this.settings.backdrop):this.show(this.settings.backdrop))}},show:function(a,b){if(b){var c=a.data(this.attr_name(!0)+"-init")||this.settings,d=c.root_element,f=this;if(0===a.parent(d).length){var g=a.wrap('<div style="display: none;" />').parent();a.on("closed.modal.wrapped",function(){a.detach().appendTo(g),a.unwrap().unbind("closed.modal.wrapped")}),a.detach().appendTo(d)}var h=e(c.animation);if(h.animate||(this.locked=!1),h.fade){var i={opacity:1};return requestAnimationFrame(function(){return a.css(b).animate(i,c.animation_speed,"linear",function(){f.locked=!1,a.trigger("opened.modal")}).addClass("open").trigger("open.modal")})}return a.css(b).addClass("open").trigger("opened.modal")}var c=this.settings;return e(c.animation).fade?a.fadeIn(c.animation_speed):(this.locked=!1,a.show())},to_back:function(a){a.addClass("toback")},to_front:function(a){a.removeClass("toback")},hide:function(a,b){if(b){var c=a.data(this.attr_name(!0)+"-init"),d=this;c=c||this.settings;var f=e(c.animation);if(f.animate||(this.locked=!1),f.fade){var g={opacity:0};return requestAnimationFrame(function(){return a.animate(g,c.animation_speed,"linear",function(){d.locked=!1,a.css(b).trigger("closed.modal")}).removeClass("open")})}return a.css(b).removeClass("open").trigger("closed.modal")}var c=this.settings;return e(c.animation).fade?a.fadeOut(c.animation_speed):a.hide()},close_video:function(b){var c=a(".flex-video",b.target),d=a("iframe",c);d.length>0&&(d.attr("data-src",d[0].src),d.attr("src",d.attr("src")),c.hide())},open_video:function(b){var c=a(".flex-video",b.target),e=c.find("iframe");if(e.length>0){var f=e.attr("data-src");if("string"==typeof f)e[0].src=e.attr("data-src");else{var g=e[0].src;e[0].src=d,e[0].src=g}c.show()}},off:function(){a(this.scope).off(".modal")},reflow:function(){}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Mobile.libs.tab={name:"tab",settings:{active_class:"active",content_class:"tabs-content",panel_class:"content",callback:function(){},deep_linking:!1,scroll_to_content:!0},default_tab_hashes:[],init:function(c,d,e){var f=this;a("["+this.attr_name()+"] > .active > a",this.scope).each(function(){f.default_tab_hashes.push(this.hash)}),this.entry_location=b.location.href,this.bindings(d,e),this.handle_location_hash_change()},events:function(){var d=this,e=function(b,e){a(e).closest("["+d.attr_name()+"]").data(d.attr_name(!0)+"-init");"ontouchstart"in c&&(b.preventDefault(),b.stopPropagation(),d.toggle_active_tab(a(e).parent()))};a(this.scope).off(".tab").on("click.tab","["+this.attr_name()+"] > * > a",function(a){var b=this;e(a,b)}),a(b).on("hashchange.tab",function(a){a.preventDefault(),d.handle_location_hash_change()})},handle_location_hash_change:function(){var b=this;a("["+this.attr_name()+"]",this.scope).each(function(){var c=a(this).data(b.attr_name(!0)+"-init");if(c.deep_linking){var e;if(e=c.scroll_to_content?b.scope.location.hash:b.scope.location.hash.replace("mob-",""),""!=e){var f=a(e);if(f.hasClass(c.panel_class)&&f.parent().hasClass(c.content_class))b.toggle_active_tab(a("["+b.attr_name()+"] > * > a[href="+e+"]").parent());else{var g=f.closest("."+c.panel_class).attr("id");g!=d&&b.toggle_active_tab(a("["+b.attr_name()+"] > * > a[href=#"+g+"]").parent(),e)}}else for(var h=0;h<b.default_tab_hashes.length;h++)b.toggle_active_tab(a("["+b.attr_name()+"] > * > a[href="+b.default_tab_hashes[h]+"]").parent())}})},toggle_active_tab:function(c,e){var f=this,g=c.closest("["+this.attr_name()+"]"),h=c.find("a"),i=c.children("a").first(),j="#"+i.attr("href").split("#")[1],k=a(j),l=c.siblings(),m=g.data(this.attr_name(!0)+"-init"),n=function(a){var c=b.location.href===f.entry_location,d=m.scroll_to_content?f.default_tab_hashes[0]:c?b.location.hash:"mob-"+f.default_tab_hashes[0].replace("#","");c&&a===d||(b.location.hash=a)};i.data("tab-content")&&(j="#"+i.data("tab-content").split("#")[1],k=a(j)),m.deep_linking&&(m.scroll_to_content?(n(e||j),e==d||e==j?c.parent()[0].scrollIntoView():a(j)[0].scrollIntoView()):n(e!=d?"mob-"+e.replace("#",""):"mob-"+j.replace("#",""))),c.addClass(m.active_class).triggerHandler("opened"),h.attr("aria-selected","true"),l.removeClass(m.active_class),l.find("a").attr("aria-selected","false"),k.siblings().removeClass(m.active_class).attr("aria-hidden","true"),k.addClass(m.active_class).attr("aria-hidden","false"),m.callback(c),k.triggerHandler("toggled",[k]),g.triggerHandler("toggled",[c])},off:function(){},reflow:function(){}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Mobile.libs.tips={name:"tips",settings:{content:"",delay:3e3,type:"pop",show:!1,class:"",relativeTo:c.body,has_overlay:!1,overlay_class:"overlay"},effect:{pop:{in:"slide-in-down",out:"slide-out-up"},msg:{in:"fade-in",out:"fade-out"},slide:{in:"slide-in-up",out:"slide-out-down"},overlay:{in:"fade-in",out:"fade-out"}},init:function(a,b,c){this.bindings(b,c),this.settings.show&&this.show()},events:function(){var b=this,c=this.attr_name();a(this.scope).on("click.tips","["+c+"]",function(d){d.preventDefault();var e=a(this).attr(c+"-content"),f=a(this).attr(c);b.show(e,f)})},create:function(b,d){var e='<div class="'+d+"tip "+this.settings.class+'"><div class="content animated">'+b+"</div></div>";if(this.element=a(e).appendTo(c.body),this.settings.has_overlay){var f='<div class="'+this.settings.overlay_class+' animated"></div>';this.overlay=a(f).appendTo(c.body)}},show:function(b,c){b=b||this.settings.content,c=c||this.settings.type,clearTimeout(this.timer),this.element?(this.element.off("animationend webkitAnimationEnd").find(".content").html(b),this.overlay&&this.overlay.off("animationend webkitAnimationEnd")):this.create(b,c),"pop"===c&&this.settings.relativeTo&&this.element.css("top",a(this.settings.relativeTo).offset().top),c=this.effect[c],this.element.show().trigger("show.tips").find(".content").removeClass(c.out).addClass(c.in),this.overlay&&this.overlay.show().trigger("show.overlay").removeClass(this.effect.overlay.out).addClass(this.effect.overlay.in),this.settings.delay&&(this.timer=setTimeout(a.proxy(function(){this.hide(c)},this),this.settings.delay))},hide:function(b){var c=this;b=b||this.effect[this.settings.type],this.element.trigger("hide.tips").find(".content").removeClass(b.in).addClass(b.out).one("animationend webkitAnimationEnd",function(){a(this).parent().remove(),c.element=null}),this.overlay&&this.overlay.trigger("hide.overlay").removeClass(this.effect.overlay.in).addClass(this.effect.overlay.out).one("animationend webkitAnimationEnd",function(){a(this).remove(),c.overlay=null})},reflow:function(){}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Mobile.libs.topbar={name:"topbar",settings:{sticky_class:"sticky",start_offset:0,is_hover:!0},init:function(b,c,d){Mobile.inherit(this,"add_custom_rule");var e=this;this.bindings(c,d),a("["+this.attr_name()+"]",this.scope).each(function(){var b=a(this),c=b.parent(),d=Math.max(c.outerHeight(),b.outerHeight()),f=b.data(e.attr_name(!0)+"-init");return c.hasClass("fixed")?void(c.hasClass("bottom")?a("body").css("padding-bottom",d):a("body").css("padding-top",d)):void(e.stickable(c,f)&&(e.settings.sticky_class=f.sticky_class,e.settings.sticky_topbar=b,b.data("height",c.outerHeight(!0)),b.data("stickyOffset",c.offset().top),f.sticked||(f.start_offset&&c.css("top",f.start_offset),e.sticked(b),e.add_custom_rule(".act-topbar-fixed { padding-top: "+b.data("height")+"px; }"))))})},stickable:function(a,b){return a.hasClass(b.sticky_class)},timer:null,events:function(c){var d=this;a(this.scope).off(".topbar").on("click.topbar contextmenu.topbar",'.top-bar .top-bar-section li a[href^="#"],['+this.attr_name()+'] .top-bar-section li a[href^="#"]',function(b){var c=a(this).closest("li"),e=c.closest("["+d.attr_name()+"]"),f=e.data(d.attr_name(!0)+"-init");if(f.is_hover){var g=a(this).closest(".hover");g.removeClass("hover")}}),a(b).off(".topbar").on("resize.topbar",this.resize()).trigger("resize.topbar").load(function(){a(this).trigger("resize.topbar")}),a("body").off(".topbar").on("click.topbar",function(b){var c=a(b.target).closest("li").closest("li.hover");c.length>0||a("["+d.attr_name()+"] li.hover").removeClass("hover")}),a(this.scope).find(".dropdown a").focus(function(){a(this).parents(".has-dropdown").addClass("hover")}).blur(function(){a(this).parents(".has-dropdown").removeClass("hover")})},resize:function(){var b=this;a("["+this.attr_name()+"]").each(function(){var d,e=a(this),f=(e.data(b.attr_name(!0)+"-init"),e.parent("."+b.settings.sticky_class));b.stickable(f,b.settings)&&(f.hasClass("fixed")?(f.removeClass("fixed"),d=f.offset().top,a(c.body).hasClass("act-topbar-fixed")&&(d-=e.data("height")),e.data("stickyOffset",d),f.addClass("fixed")):(d=f.offset().top,e.data("stickyOffset",d)))})},sticked:function(b){this.sticky(b.parent()),b.data(this.attr_name(!0),a.extend({},b.data(this.attr_name(!0)),{sticked:!0}))},sticky:function(c){var d=this;a(b).on("scroll",function(){d.supportSticky(c)||d.update_sticky_positioning(),d.changeStatus(c,"sticking")})},changeStatus:function(a,b){var c=this.settings.sticky_topbar;c&&(this.isSticky(c)?a.addClass(b):a.removeClass(b))},isSticky:function(c){var d=a(b),e=c.data("stickyOffset")-this.settings.start_offset;return d.scrollTop()>e},supportSticky:function(b){var d=c.createElement("test");return d.style.position="-webkit-sticky",d.style.position="sticky",/sticky/.test(d.style.position)&&["visible",""].indexOf(a(b).parent().css("overflow"))>-1},update_sticky_positioning:function(){var b="."+this.settings.sticky_class,c=this.settings.sticky_topbar;c&&this.stickable(c.parent(),this.settings)&&(this.isSticky(c)?a(b).hasClass("fixed")||(a(b).addClass("fixed"),a("body").addClass("act-topbar-fixed")):a(b).hasClass("fixed")&&(a(b).removeClass("fixed"),a("body").removeClass("act-topbar-fixed")))},off:function(){a(this.scope).off(".topbar"),a(b).off(".topbar")},reflow:function(){}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Mobile.libs.validator={name:"validator",settings:{validate_on:"manual",exception:":hidden, [data-validator-ignore]",focus_on_invalid:!1,has_hint:!0,error_labels:!0,error_class:"has-error",feedback:".form-row",alert_element:".alert-box",isAjax:!1,preventDefault:!1,timeout:1e3,patterns:{alpha:/^[a-zA-Z]*$/,digital:/^\d*$/,alpha_digital:/^[a-zA-Z\d]*$/,int:/^[-+]?\d*$/,positive:/^\+?\d*(?:[\.]\d+)?$/,negative:/^-\d*(?:[\.]\d+)?$/,number:/^[-+]?\d*(?:[\.]\d+)?$/,email:/^[\w.!#$%&'*+\/=?^`{|}~-]+@[a-zA-Z\d](?:[a-zA-Z\d-]{0,61}[a-zA-Z\d])?(?:\.[a-zA-Z\d](?:[a-zA-Z\d-]{0,61}[a-zA-Z\d])?)*$/,url:/^(https?|ftp|file|ssh):\/\/([-;:&=\+\$,\w]+@{1})?([-A-Za-z\d\.]+)+:?(\d+)?((\/[-\+~%\/\.\w]+)?\??([-\+=&;%@\.\w]+)?#?([\w]+)?)?/,domain:/^([a-zA-Z\d]([a-zA-Z\d\-]{0,61}[a-zA-Z\d])?\.)+[a-zA-Z]{2,8}$/,datetime:/^([0-2]\d{3})\-([0-1]\d)\-([0-3]\d)\s([0-2]\d):([0-5]\d):([0-5]\d)([-+]([0-1]\d)\:00)?$/,date:/(?:19|20)\d{2}[-\/.](?:(?:0?[1-9]|1[0-2])[-\/.](?:0?[1-9]|1\d|2\d)|(?:(?!02)(?:0?[1-9]|1[0-2])[-\/.](?:30))|(?:(?:0?[13578]|1[02])[-\/.]31))$/,time:/^(0?\d|1\d|2[0-3])(:[0-5]\d){2}$/,color:/^#([a-fA-F\d]{6}|[a-fA-F\d]{3})$/,mobile:/^0?(?:1(?:[38]\d)|(?:4[579])|(?:[57][0-35-9]))\d{8}$/,tel:/^(0\d{2,3}-?)?[2-9]\d{5,7}(-\d{1,5})?$/,zip:/^\d{6}$/},verifiers:{requiredone:function(b,c,d){return a(b).closest("["+this.attr_name()+"]").find('input[type="'+b.type+'"][name="'+b.name+'"]:checked:not(:disabled)').length},equalto:function(a,b,d){var e=c.querySelector(a.getAttribute(this.add_namespace(this.attr_name()+"-equalto")));return e&&e.value===a.value},oneof:function(a,b,d){var e=c.querySelectorAll(a.getAttribute(this.add_namespace(this.attr_name()+"-oneof")));return this.valid_oneof(e,b,d)}},alerts:{required:"请{how}{placeholder}！",alpha:"请填写英文字母！",digital:"只允许填写数字！",alpha_digital:"请填写英文字母或数字！",int:"请填写整数！",positive:"请填写正数！",negative:"请填写负数！",number:"请填写数值！",email:"请填写正确的邮箱地址！",url:"请填写正确的 URL 地址！",domain:"请填写正确的域名！",datetime:"请填写正确的日期和时间格式！",date:"请填写正确的日期格式！",time:"请填写正确的时间格式！",color:"请填写十六进制颜色格式！",mobile:"手机号码有误，请重新填写！",tel:"电话号码有误，请重新填写!",zip:"邮政编码格式有误，请重新填写！"}},timer:null,init:function(a,b){this.bindings(b,Array.prototype.slice.call(arguments,2))},events:function(b){function c(a,b,c){clearTimeout(d.timer),d.timer=setTimeout(function(){d.validate(a,[b],c)}.bind(b),f.timeout)}var d=this,e=a(b).attr("novalidate","novalidate"),f=e.data(this.attr_name(!0)+"-init")||{};this.invalid_attr=this.add_namespace("data-invalid"),e.off(".validator").on("submit.validator",function(b){var c=a(this),e="ajax"===c.attr(d.attr_name())||d.settings.isAjax;return c.find("[type=submit]").prop("disabled",!0),d.validate(c,c.find("input, textarea, select, ["+d.attr_name()+"-verifier]").not(f.exception).get(),b,e)}).on("validate.validator",function(b){"manual"===f.validate_on&&d.validate(a(this),[b.target],b)}).on("reset",function(b){return d.reset(a(this),b)}).find("input, textarea, select").not(f.exception).off(".validator").on("blur.validator",function(b){var e=this.id,g=a(this).closest("form"),h=g.find("["+d.attr_name()+'-equalto="#'+e+'"]')[0];h&&h.value&&c(g,h,b),"blur"===f.validate_on&&c(g,this,b)}).on("change.validator",function(b){var e=this.id,g=a(this).closest("form"),h=g.find("["+d.attr_name()+'-equalto="#'+e+'"]')[0];h&&h.value&&c(g,h,b),"change"===f.validate_on&&c(g,this,b)})},reset:function(b,c){b.removeAttr(this.invalid_attr);var d=b.data(this.attr_name(!0)+"-init")||{};a("["+this.invalid_attr+"]",b).removeAttr(this.invalid_attr),a("."+d.error_class,b).not(d.alert_element).removeClass(d.error_class),a(":input",b).not(":radio, :checkbox, :button, :submit, :reset,"+d.exception).val("").removeAttr(this.invalid_attr),a("input:radio, input:checkbox",b).prop("checked",!1).removeAttr(this.invalid_attr)},validate:function(b,d,e,f){for(var g=this.parse_patterns(b,d),h=g.length,i=/submit/i.test(e.type),j=0;j<h;j++)if(!g[j]&&(i||f))return this.settings.focus_on_invalid&&d[j].focus(),b.trigger("invalid.validator",[e]),a(d[j]).closest("form").attr(this.invalid_attr,""),b.find("button[type=submit]").prop("disabled",!1),!1;return(i||f)&&(this.settings.preventDefault&&e.preventDefault(),b.trigger("valid.validator",[e])),b.removeAttr(this.invalid_attr),!f||(a.ajax({url:b.attr("action"),type:b.attr("method"),data:b.serialize(),dataType:"json",beforeSend:function(){a(c).mobile("tips","show",['<div class="text-align"><i class="spinner"></i></div>',"msg"])}}).done(function(a){b.trigger("complete.validator",[a]),b.find("[type=submit]").prop("disabled",!1)}).fail(function(){b.find("[type=submit]").prop("disabled",!1)}),!1)},parse_patterns:function(a,b){for(var c=b.length,d=[];c--;)d.push(this.pattern(b[c]));return d.length&&(d=this.check_validation(a,d)),d},pattern:function(a){var b=a.type,c=a.hasAttribute("required"),d=a.getAttribute("pattern")||"",e=a.getAttribute(this.add_namespace(this.attr_name()+"-verifier"))||"",f=a.hasAttribute(this.add_namespace(this.attr_name()+"-equalto")),g=a.hasAttribute(this.add_namespace(this.attr_name()+"-oneof"));return this.settings.patterns.hasOwnProperty(d)?[a,d,this.settings.patterns[d],c]:d?[a,null,new RegExp("^"+d+"$"),c]:e?[a,e,this.settings.patterns[b],c]:this.settings.patterns.hasOwnProperty(b)?[a,b,this.settings.patterns[b],c]:f||g?[a,f?"equalto":"oneof",d,c]:(d=/^[\s\S]*$/,[a,c?"required":null,d,c])},check_validation:function(b,c){for(var d=c.length,e=[],f=b.data(this.attr_name(!0)+"-init")||{};d--;){var g,h,i=c[d][0],j=c[d][3],k=i.value.trim(),l="radio"===i.type,m="checkbox"===i.type,n=a(i).parent(),o=i.getAttribute(this.add_namespace(this.attr_name()+"-verifier")),p=function(){var b=a(i).siblings("label");return b.length||(b=a('label[for="'+i.id+'"]')),b}(),q=!j||k.length>0,r=[];if((l||m)&&j&&(o="requiredone"),i.getAttribute(this.add_namespace(this.attr_name()+"-equalto"))&&(o="equalto"),i.getAttribute(this.add_namespace(this.attr_name()+"-oneof"))&&(o="oneof"),f.feedback&&(g=a(i).parents(f.feedback).eq(0)),g&&g.length||(g=n.is("label")?n.parent():n),o){for(var s=o.split(" "),t=!0,u=!0,v=0;v<s.length;v++)h=this.settings.verifiers[s[v]].apply(this,[i,j,g]),r.push(h),u=h&&t,t=h;if(u)this.validSuccess(i,g,p);else if(e=this.validError(i,g,p,d,c,r),e.length)break}else if(r.push(c[d][2].test(k)&&q||!j&&!k.length||i.disabled),r=[r.every(function(a){return a})],r[0])this.validSuccess(i,g,p);else if(e=this.validError(i,g,p,d,c,r),e.length)break;e=e.concat(r)}return e},validSuccess:function(b,c,d){b.removeAttribute(this.invalid_attr),b.setAttribute("aria-invalid","false"),b.removeAttribute("aria-describedby"),c.removeClass(this.settings.error_class),d.length>0&&this.settings.error_labels&&d.removeClass(this.settings.error_class).removeAttr("role"),a(b).triggerHandler("valid")},validError:function(b,c,d,e,f,g){var h=[];b.setAttribute(this.invalid_attr,""),b.setAttribute("aria-invalid","true");var i=c.find(this.settings.alert_element),j=this.settings.alerts[f[e][1]],k=f[e][0].dataset,l=k.alerts,m="输入";if(l||(j?((["radio","checked"].indexOf(b.type)>-1||"select"===b.tagName)&&(m="选择"),l=j.replace("{how}",m).replace("{placeholder}",d.text().replace(/[：:]$/,"")||f[e][0].placeholder||"其中一项")):l="输入不符合要求，请检查！"),i.length){var n=i.attr("id");n&&b.setAttribute("aria-describedby",n)}else if(this.settings.has_hint)return alert(l),a(b).triggerHandler("invalid"),h.concat(g);return c.addClass(this.settings.error_class),d.length>0&&this.settings.error_labels&&d.addClass(this.settings.error_class).attr("role","alert"),a(b).triggerHandler("invalid"),h},valid_oneof:function(b,c,d,e){var b=a(b),f=b.filter(function(){return["radio","checkbox"].indexOf(this.type)>-1?this.checked:!!this.value.trim()}).length>0;if(f?(b.removeAttr(this.invalid_attr),d.removeClass(this.settings.error_class)):(b.attr(this.invalid_attr,""),d.addClass(this.settings.error_class)),!e){var g=this;b.each(function(){g.valid_oneof.call(g,this,null,d,!0)})}return f},reflow:function(b,c){var d=this,e=a("["+this.attr_name()+"]");e.each(function(){d.events(this)})}}}(jQuery,window,window.document);
//# sourceMappingURL=mobile.min.js.map